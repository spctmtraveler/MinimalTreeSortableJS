<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta
            name="viewport"
            content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
        />
        <meta name="mobile-web-app-capable" content="yes" />
        <meta name="apple-mobile-web-app-capable" content="yes" />
        <title>DUN Task Management</title>
        <link rel="stylesheet" href="styles.css" />
        <link
            href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap"
            rel="stylesheet"
        />
        <!-- Font Awesome for icons -->
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
        />
        <!-- Load Sortable.js library for drag-and-drop functionality -->
        <script src="https://cdn.jsdelivr.net/npm/sortablejs@1.15.0/Sortable.min.js"></script>
    </head>
    <body>
        <!-- Top Banner -->
        <header class="top-banner">
            <div class="banner-container">
                <div class="logo">DUN</div>
                <div class="task-input-container">
                    <input
                        type="text"
                        id="new-task-input"
                        placeholder="Enter task"
                    />
                    <button id="add-task-btn">Add</button>
                </div>
                <div class="filter-container">
                    <select id="filter-dropdown">
                        <option value="all">All</option>
                        <option value="triage">Triage</option>
                        <option value="today">Today</option>
                        <option value="tomorrow">Tomorrow</option>
                        <option value="this-week">This Week</option>
                        <option value="next-week">Next Week</option>
                        <option value="this-month">This Month</option>
                        <option value="next-month">Next Month</option>
                    </select>
                </div>
                <div class="view-toggles">
                    <button
                        id="toggle-priority"
                        class="view-toggle-btn"
                        title="Toggle Priority Flags"
                    >
                        <i class="fa-solid fa-eye"></i>
                    </button>
                    <button
                        id="sort-tasks"
                        class="view-toggle-btn"
                        title="Sort Tasks by Priority"
                    >
                        <i class="fa-solid fa-sort"></i>
                    </button>
                </div>
            </div>
        </header>

        <!-- Main Content Area -->
        <div id="dun-app">
            <!-- Header row with column labels -->
            <div class="tasks-header">
                <div class="tasks-label">
                    <i class="fa-solid fa-list"></i> Tasks
                </div>
                <div class="priority-label">
                    <i class="fa-solid fa-bullseye"></i> Priority
                </div>
            </div>

            <!-- Main Tasks View -->
            <div class="tasks-view">
                <div id="task-tree"></div>
            </div>
        </div>

        <!-- Task View Modal (hidden by default) -->
        <div id="task-view-modal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>Task Details</h2>
                    <span class="close-modal">&times;</span>
                </div>
                <div class="modal-body">
                    <!-- Completion Status -->
                    <div class="form-group">
                        <label class="checkbox-label">
                            <input type="checkbox" id="modal-completed" />
                            Mark as completed
                        </label>
                    </div>
                    
                    <!-- Title Field -->
                    <div class="form-group">
                        <label for="modal-title">Title:</label>
                        <input type="text" id="modal-title" />
                    </div>
                    
                    <!-- Revisit Date Field -->
                    <div class="form-group">
                        <label for="modal-revisit-date">Revisit Date:</label>
                        <input type="date" id="modal-revisit-date" />
                    </div>
                    
                    <!-- Scheduled Time Field -->
                    <div class="form-group">
                        <label for="modal-scheduled-time">Scheduled Time:</label>
                        <input type="time" id="modal-scheduled-time" step="900" />
                    </div>
                    
                    <!-- Overview Field -->
                    <div class="form-group">
                        <label for="modal-overview">Overview:</label>
                        <textarea id="modal-overview" rows="3"></textarea>
                    </div>
                    
                    <!-- Details Field -->
                    <div class="form-group">
                        <label for="modal-details">Details:</label>
                        <textarea id="modal-details" rows="5"></textarea>
                    </div>
                    
                    <!-- Overall Time Estimate Field -->
                    <div class="form-group">
                        <label for="modal-time-estimate">Overall Time Estimate (mins):</label>
                        <input type="number" id="modal-time-estimate" min="0" step="15" />
                    </div>
                    
                    <!-- Priority Flags -->
                    <div class="form-group">
                        <label>Priority Flags:</label>
                        <div class="priority-flags-modal" id="modal-priority-flags">
                            <!-- Priority flags will be generated dynamically -->
                        </div>
                    </div>
                    
                    <!-- Action Buttons -->
                    <div class="modal-actions">
                        <button id="modal-start-btn" class="btn-primary">Start/Play</button>
                        <button id="modal-save-btn" class="btn-secondary">Save</button>
                        <button id="modal-delete-btn" class="btn-outline-danger">Delete</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Toast notification container -->
        <div id="toast-container"></div>

        <script src="script.js"></script>
    </body>
</html>
